# é¦–é¡µ Tab å¯¼èˆªå®ç°è®¡åˆ’

## ğŸ“‹ ä»»åŠ¡æ¦‚è§ˆ

åŸºäº Figma è®¾è®¡ç¨¿ï¼Œå®ç° Memo åº”ç”¨çš„åº•éƒ¨å¯¼èˆªæ ï¼ˆ5ä¸ªTabï¼‰ã€‚

---

## ğŸ¯ å®ç°ç›®æ ‡

1. âœ… åˆ›å»ºç¬¦åˆè®¾è®¡è§„èŒƒçš„åº•éƒ¨å¯¼èˆªæ 
2. âœ… å®ç°5ä¸ªTabé¡µé¢æ¡†æ¶
3. âœ… å®ç°Tabåˆ‡æ¢åŠŸèƒ½
4. âœ… åº”ç”¨ä¸»é¢˜é¢œè‰²ç³»ç»Ÿ
5. âœ… æ”¯æŒæ·±è‰²æ¨¡å¼
6. âœ… å“åº”å¼é€‚é…

---

## ğŸ“¦ ä¾èµ–åŒ…å‡†å¤‡

### éœ€è¦æ·»åŠ çš„ä¾èµ–
```yaml
dependencies:
  flutter:
    sdk: flutter
  provider: ^6.1.1          # çŠ¶æ€ç®¡ç†
  # å…¶ä»–ä¾èµ–æ ¹æ®åç»­åŠŸèƒ½æ·»åŠ 
```

### å›¾æ ‡èµ„æº
- ä½¿ç”¨ Material Iconsï¼ˆFlutterå†…ç½®ï¼‰
- æˆ–å‡†å¤‡è‡ªå®šä¹‰å›¾æ ‡èµ„æº

---

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

### æ–°å¢æ–‡ä»¶ç»“æ„
```
lib/
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ theme/
â”‚   â”‚   â”œâ”€â”€ app_colors.dart      # é¢œè‰²å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ app_theme.dart       # ä¸»é¢˜é…ç½®
â”‚   â”‚   â””â”€â”€ app_text_styles.dart # æ–‡å­—æ ·å¼
â”‚   â””â”€â”€ constants/
â”‚       â””â”€â”€ app_constants.dart   # åº”ç”¨å¸¸é‡
â”œâ”€â”€ views/
â”‚   â”œâ”€â”€ home/
â”‚   â”‚   â””â”€â”€ home_view.dart       # é¦–é¡µ
â”‚   â”œâ”€â”€ check_in/
â”‚   â”‚   â””â”€â”€ check_in_view.dart   # æ‰“å¡é¡µ
â”‚   â”œâ”€â”€ pomodoro/
â”‚   â”‚   â””â”€â”€ pomodoro_view.dart   # ç•ªèŒ„é’Ÿé¡µ
â”‚   â”œâ”€â”€ calendar/
â”‚   â”‚   â””â”€â”€ calendar_view.dart   # æ—¥å†é¡µ
â”‚   â””â”€â”€ settings/
â”‚       â””â”€â”€ settings_view.dart   # è®¾ç½®é¡µ
â”œâ”€â”€ widgets/
â”‚   â”œâ”€â”€ navigation/
â”‚   â”‚   â”œâ”€â”€ custom_bottom_nav_bar.dart  # è‡ªå®šä¹‰åº•éƒ¨å¯¼èˆªæ 
â”‚   â”‚   â””â”€â”€ bottom_nav_item.dart        # Tabé¡¹æ•°æ®æ¨¡å‹
â”‚   â””â”€â”€ common/
â”‚       â””â”€â”€ (å…¶ä»–é€šç”¨ç»„ä»¶)
â””â”€â”€ main.dart
```

---

## ğŸ“ å®ç°æ­¥éª¤

### Step 1: é¢œè‰²å’Œä¸»é¢˜ç³»ç»Ÿ

**æ–‡ä»¶**: `lib/core/theme/app_colors.dart`

```dart
// å®šä¹‰é¢œè‰²å¸¸é‡
class AppColors {
  // ä¸»è‰²è°ƒï¼ˆè“è‰²ç³»ï¼‰
  static const Color primary = Color(0xFF2196F3);
  static const Color primaryDark = Color(0xFF1976D2);
  static const Color primaryLight = Color(0xFF64B5F6);
  
  // åŠŸèƒ½è‰²
  static const Color checkIn = Color(0xFF4CAF50);  // æ‰“å¡-ç»¿è‰²
  static const Color pomodoro = Color(0xFFF44336);   // ç•ªèŒ„é’Ÿ-çº¢è‰²
  
  // ä¸­æ€§è‰²
  static const Color textPrimary = Color(0xFF212121);
  static const Color textSecondary = Color(0xFF757575);
  static const Color divider = Color(0xFFE0E0E0);
  
  // Tabå¯¼èˆªé¢œè‰²
  static const Color tabSelected = primary;
  static const Color tabUnselected = Color(0xFF9E9E9E);
}
```

**æ–‡ä»¶**: `lib/core/theme/app_theme.dart`

```dart
// ä¸»é¢˜é…ç½®
class AppTheme {
  static ThemeData lightTheme = ThemeData(
    brightness: Brightness.light,
    primaryColor: AppColors.primary,
    // ... å…¶ä»–ä¸»é¢˜é…ç½®
  );
  
  static ThemeData darkTheme = ThemeData(
    brightness: Brightness.dark,
    primaryColor: AppColors.primary,
    // ... å…¶ä»–ä¸»é¢˜é…ç½®
  );
}
```

**ä»»åŠ¡æ¸…å•:**
- [ ] åˆ›å»º `app_colors.dart`
- [ ] åˆ›å»º `app_theme.dart`
- [ ] å®šä¹‰æµ…è‰²æ¨¡å¼é¢œè‰²
- [ ] å®šä¹‰æ·±è‰²æ¨¡å¼é¢œè‰²
- [ ] æµ‹è¯•é¢œè‰²åœ¨ä¸åŒè®¾å¤‡ä¸Šçš„æ˜¾ç¤º

---

### Step 2: Tabæ•°æ®æ¨¡å‹

**æ–‡ä»¶**: `lib/widgets/navigation/bottom_nav_item.dart`

```dart
// Tabé¡¹æ•°æ®æ¨¡å‹
class BottomNavItem {
  final String label;
  final IconData icon;
  final String route;
  
  const BottomNavItem({
    required this.label,
    required this.icon,
    required this.route,
  });
}

// Tabé…ç½®
class BottomNavConfig {
  static const List<BottomNavItem> items = [
    BottomNavItem(
      label: 'é¦–é¡µ',
      icon: Icons.home,
      route: '/home',
    ),
    BottomNavItem(
      label: 'æ‰“å¡',
      icon: Icons.check_circle,
      route: '/check-in',
    ),
    BottomNavItem(
      label: 'ç•ªèŒ„é’Ÿ',
      icon: Icons.timer,
      route: '/pomodoro',
    ),
    BottomNavItem(
      label: 'æ—¥å†',
      icon: Icons.calendar_today,
      route: '/calendar',
    ),
    BottomNavItem(
      label: 'è®¾ç½®',
      icon: Icons.settings,
      route: '/settings',
    ),
  ];
}
```

**ä»»åŠ¡æ¸…å•:**
- [ ] åˆ›å»º `bottom_nav_item.dart`
- [ ] å®šä¹‰Tabæ•°æ®æ¨¡å‹
- [ ] é…ç½®5ä¸ªTabçš„å›¾æ ‡å’Œæ ‡ç­¾
- [ ] ç¡®è®¤å›¾æ ‡é€‰æ‹©ï¼ˆMaterial Iconsæˆ–è‡ªå®šä¹‰ï¼‰

---

### Step 3: è‡ªå®šä¹‰åº•éƒ¨å¯¼èˆªæ ç»„ä»¶

**æ–‡ä»¶**: `lib/widgets/navigation/custom_bottom_nav_bar.dart`

**åŠŸèƒ½è¦æ±‚:**
- æ˜¾ç¤º5ä¸ªTab
- æ”¯æŒé€‰ä¸­/æœªé€‰ä¸­çŠ¶æ€
- ç‚¹å‡»åˆ‡æ¢Tab
- åº”ç”¨ä¸»é¢˜é¢œè‰²
- æ”¯æŒæ·±è‰²æ¨¡å¼
- é€‚é…å®‰å…¨åŒºåŸŸ

**å®ç°è¦ç‚¹:**
```dart
class CustomBottomNavBar extends StatelessWidget {
  final int currentIndex;
  final Function(int) onTap;
  
  // å®ç°ç»†èŠ‚...
}
```

**ä»»åŠ¡æ¸…å•:**
- [ ] åˆ›å»º `custom_bottom_nav_bar.dart`
- [ ] å®ç°Tabå¸ƒå±€ï¼ˆ5ä¸ªTabå‡åŒ€åˆ†å¸ƒï¼‰
- [ ] å®ç°é€‰ä¸­çŠ¶æ€æ ·å¼ï¼ˆç´«è‰²/è“è‰²ï¼‰
- [ ] å®ç°æœªé€‰ä¸­çŠ¶æ€æ ·å¼ï¼ˆç°è‰²ï¼‰
- [ ] æ·»åŠ ç‚¹å‡»äº‹ä»¶å¤„ç†
- [ ] æ·»åŠ å®‰å…¨åŒºåŸŸé€‚é…
- [ ] æ·»åŠ åŠ¨ç”»æ•ˆæœï¼ˆå¯é€‰ï¼‰
- [ ] æµ‹è¯•ä¸åŒå±å¹•å°ºå¯¸

---

### Step 4: é¡µé¢æ¡†æ¶åˆ›å»º

**åˆ›å»º5ä¸ªä¸»è¦é¡µé¢:**

1. **HomeView** (`lib/views/home/home_view.dart`)
   - æ˜¾ç¤º"é¦–é¡µ"å ä½å†…å®¹
   - åç»­æ·»åŠ ä»Šæ—¥æ¦‚è§ˆåŠŸèƒ½

2. **CheckInView** (`lib/views/check_in/check_in_view.dart`)
   - æ˜¾ç¤º"æ‰“å¡"å ä½å†…å®¹
   - åç»­æ·»åŠ æ‰“å¡åŠŸèƒ½

3. **PomodoroView** (`lib/views/pomodoro/pomodoro_view.dart`)
   - æ˜¾ç¤º"ç•ªèŒ„é’Ÿ"å ä½å†…å®¹
   - åç»­æ·»åŠ ç•ªèŒ„é’ŸåŠŸèƒ½

4. **CalendarView** (`lib/views/calendar/calendar_view.dart`)
   - æ˜¾ç¤º"æ—¥å†"å ä½å†…å®¹
   - åç»­æ·»åŠ æ—¥å†åŠŸèƒ½

5. **SettingsView** (`lib/views/settings/settings_view.dart`)
   - æ˜¾ç¤º"è®¾ç½®"å ä½å†…å®¹
   - åç»­æ·»åŠ è®¾ç½®åŠŸèƒ½

**ä»»åŠ¡æ¸…å•:**
- [ ] åˆ›å»º5ä¸ªé¡µé¢æ–‡ä»¶
- [ ] æ¯ä¸ªé¡µé¢æ·»åŠ åŸºç¡€Scaffold
- [ ] æ·»åŠ é¡µé¢æ ‡é¢˜ï¼ˆå¯é€‰ï¼‰
- [ ] æ·»åŠ å ä½å†…å®¹ï¼ˆ"XXé¡µé¢"æ–‡å­—ï¼‰
- [ ] æµ‹è¯•é¡µé¢åˆ‡æ¢

---

### Step 5: ä¸»é¡µé¢é›†æˆ

**æ–‡ä»¶**: `lib/main.dart` æˆ– `lib/views/main/main_view.dart`

**åŠŸèƒ½è¦æ±‚:**
- é›†æˆåº•éƒ¨å¯¼èˆªæ 
- ç®¡ç†å½“å‰é€‰ä¸­çš„Tab
- åˆ‡æ¢æ˜¾ç¤ºä¸åŒé¡µé¢
- ä½¿ç”¨Providerç®¡ç†çŠ¶æ€ï¼ˆå¯é€‰ï¼‰

**å®ç°æ–¹æ¡ˆA - ä½¿ç”¨IndexedStack:**
```dart
class MainView extends StatefulWidget {
  // ä½¿ç”¨IndexedStackä¿æŒé¡µé¢çŠ¶æ€
}
```

**å®ç°æ–¹æ¡ˆB - ä½¿ç”¨PageView:**
```dart
class MainView extends StatefulWidget {
  // ä½¿ç”¨PageViewæ”¯æŒæ»‘åŠ¨åˆ‡æ¢ï¼ˆå¯é€‰ï¼‰
}
```

**ä»»åŠ¡æ¸…å•:**
- [ ] åˆ›å»ºä¸»é¡µé¢å®¹å™¨
- [ ] é›†æˆCustomBottomNavBar
- [ ] å®ç°Tabåˆ‡æ¢é€»è¾‘
- [ ] é›†æˆ5ä¸ªé¡µé¢
- [ ] æµ‹è¯•Tabåˆ‡æ¢åŠŸèƒ½
- [ ] ä¼˜åŒ–é¡µé¢åˆ‡æ¢åŠ¨ç”»

---

### Step 6: è·¯ç”±ç®¡ç†ï¼ˆå¯é€‰ï¼‰

**æ–‡ä»¶**: `lib/core/routes/app_routes.dart`

å¦‚æœéœ€è¦ä½¿ç”¨å‘½åè·¯ç”±:
- [ ] é…ç½®è·¯ç”±è¡¨
- [ ] å®ç°è·¯ç”±è·³è½¬
- [ ] é›†æˆåˆ°åº•éƒ¨å¯¼èˆªæ 

---

### Step 7: ä¸»é¢˜åˆ‡æ¢æ”¯æŒ

**æ–‡ä»¶**: `lib/core/theme/theme_provider.dart` (ä½¿ç”¨Provider)

**åŠŸèƒ½è¦æ±‚:**
- æ”¯æŒæµ…è‰²/æ·±è‰²æ¨¡å¼åˆ‡æ¢
- ä¸»é¢˜è®¾ç½®æŒä¹…åŒ–ï¼ˆSharedPreferencesï¼‰
- åº•éƒ¨å¯¼èˆªæ è‡ªåŠ¨é€‚é…ä¸»é¢˜

**ä»»åŠ¡æ¸…å•:**
- [ ] åˆ›å»ºThemeProvider
- [ ] å®ç°ä¸»é¢˜åˆ‡æ¢é€»è¾‘
- [ ] é›†æˆåˆ°ä¸»åº”ç”¨
- [ ] æµ‹è¯•ä¸»é¢˜åˆ‡æ¢
- [ ] æµ‹è¯•æ·±è‰²æ¨¡å¼ä¸‹çš„å¯¼èˆªæ æ˜¾ç¤º

---

### Step 8: å“åº”å¼é€‚é…

**é€‚é…è¦æ±‚:**
- å°å±æ‰‹æœºï¼ˆ< 360pxï¼‰
- æ ‡å‡†æ‰‹æœºï¼ˆ360-414pxï¼‰
- å¤§å±æ‰‹æœºï¼ˆ> 414pxï¼‰
- æ¨ªå±æ¨¡å¼ï¼ˆå¯é€‰ï¼‰

**ä»»åŠ¡æ¸…å•:**
- [ ] æµ‹è¯•ä¸åŒå±å¹•å°ºå¯¸
- [ ] è°ƒæ•´Tabé—´è·å’Œå¤§å°
- [ ] å°å±æ—¶è€ƒè™‘éšè—æ–‡å­—ï¼ˆå¯é€‰ï¼‰
- [ ] æ¨ªå±é€‚é…ï¼ˆå¯é€‰ï¼‰

---

## ğŸ§ª æµ‹è¯•è®¡åˆ’

### åŠŸèƒ½æµ‹è¯•
- [ ] Tabåˆ‡æ¢åŠŸèƒ½æ­£å¸¸
- [ ] é€‰ä¸­çŠ¶æ€æ˜¾ç¤ºæ­£ç¡®
- [ ] æœªé€‰ä¸­çŠ¶æ€æ˜¾ç¤ºæ­£ç¡®
- [ ] ç‚¹å‡»åé¦ˆæ­£å¸¸
- [ ] é¡µé¢åˆ‡æ¢æ­£å¸¸

### UIæµ‹è¯•
- [ ] æµ…è‰²æ¨¡å¼æ˜¾ç¤ºæ­£å¸¸
- [ ] æ·±è‰²æ¨¡å¼æ˜¾ç¤ºæ­£å¸¸
- [ ] é¢œè‰²ç¬¦åˆè®¾è®¡è§„èŒƒ
- [ ] å›¾æ ‡å’Œæ–‡å­—å¯¹é½
- [ ] å®‰å…¨åŒºåŸŸé€‚é…æ­£å¸¸

### å…¼å®¹æ€§æµ‹è¯•
- [ ] iOSè®¾å¤‡æµ‹è¯•
- [ ] Androidè®¾å¤‡æµ‹è¯•
- [ ] ä¸åŒå±å¹•å°ºå¯¸æµ‹è¯•
- [ ] ä¸åŒç³»ç»Ÿç‰ˆæœ¬æµ‹è¯•

---

## ğŸ“Š å¼€å‘æ—¶é—´ä¼°ç®—

| ä»»åŠ¡ | é¢„è®¡æ—¶é—´ | ä¼˜å…ˆçº§ |
|------|---------|--------|
| Step 1: é¢œè‰²å’Œä¸»é¢˜ç³»ç»Ÿ | 1å°æ—¶ | é«˜ |
| Step 2: Tabæ•°æ®æ¨¡å‹ | 0.5å°æ—¶ | é«˜ |
| Step 3: è‡ªå®šä¹‰åº•éƒ¨å¯¼èˆªæ  | 2-3å°æ—¶ | é«˜ |
| Step 4: é¡µé¢æ¡†æ¶åˆ›å»º | 1å°æ—¶ | é«˜ |
| Step 5: ä¸»é¡µé¢é›†æˆ | 2å°æ—¶ | é«˜ |
| Step 6: è·¯ç”±ç®¡ç† | 1å°æ—¶ | ä¸­ |
| Step 7: ä¸»é¢˜åˆ‡æ¢æ”¯æŒ | 2å°æ—¶ | ä¸­ |
| Step 8: å“åº”å¼é€‚é… | 1-2å°æ—¶ | ä¸­ |
| æµ‹è¯•å’Œä¼˜åŒ– | 2å°æ—¶ | é«˜ |
| **æ€»è®¡** | **12-15å°æ—¶** | |

---

## âœ… å®Œæˆæ ‡å‡†

### å¿…é¡»å®Œæˆï¼ˆMVPï¼‰
- âœ… åº•éƒ¨å¯¼èˆªæ æ˜¾ç¤º5ä¸ªTab
- âœ… Tabåˆ‡æ¢åŠŸèƒ½æ­£å¸¸
- âœ… é€‰ä¸­/æœªé€‰ä¸­çŠ¶æ€æ­£ç¡®æ˜¾ç¤º
- âœ… 5ä¸ªé¡µé¢æ¡†æ¶åˆ›å»ºå®Œæˆ
- âœ… åŸºç¡€ä¸»é¢˜é¢œè‰²åº”ç”¨

### å¯é€‰å®Œæˆï¼ˆå¢å¼ºï¼‰
- â­ Tabåˆ‡æ¢åŠ¨ç”»
- â­ æ·±è‰²æ¨¡å¼æ”¯æŒ
- â­ å“åº”å¼é€‚é…
- â­ ç‚¹å‡»åé¦ˆæ•ˆæœ
- â­ é¡µé¢æ»‘åŠ¨åˆ‡æ¢

---

## ğŸš€ å¼€å§‹å¼€å‘

å½“å‡†å¤‡å¥½å¼€å§‹å¼€å‘æ—¶ï¼ŒæŒ‰ç…§ä»¥ä¸‹é¡ºåºæ‰§è¡Œï¼š

1. **ç¬¬ä¸€æ­¥**: åˆ›å»ºé¢œè‰²å’Œä¸»é¢˜ç³»ç»Ÿï¼ˆStep 1ï¼‰
2. **ç¬¬äºŒæ­¥**: åˆ›å»ºTabæ•°æ®æ¨¡å‹ï¼ˆStep 2ï¼‰
3. **ç¬¬ä¸‰æ­¥**: å®ç°è‡ªå®šä¹‰åº•éƒ¨å¯¼èˆªæ ï¼ˆStep 3ï¼‰
4. **ç¬¬å››æ­¥**: åˆ›å»ºé¡µé¢æ¡†æ¶ï¼ˆStep 4ï¼‰
5. **ç¬¬äº”æ­¥**: é›†æˆåˆ°ä¸»é¡µé¢ï¼ˆStep 5ï¼‰

å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼Œåº•éƒ¨å¯¼èˆªæ çš„åŸºç¡€åŠŸèƒ½å°±å®Œæˆäº†ï¼

---

**æœ€åæ›´æ–°**: 2024-XX-XX  
**é¢„è®¡å¼€å§‹æ—¶é—´**: TBD  
**é¢„è®¡å®Œæˆæ—¶é—´**: TBD

---

## â° ç•ªèŒ„é’Ÿæ—¶é’Ÿé€‰æ‹©å™¨å®ç°è®¡åˆ’

### ğŸ“‹ ä»»åŠ¡æ¦‚è§ˆ

åŸºäº Figma è®¾è®¡ç¨¿ï¼Œå®ç°å¯è½¬åŠ¨çš„æ—¶é’Ÿé€‰æ‹©å™¨ï¼Œç”¨äºè®¾ç½®ç•ªèŒ„é’Ÿæ—¶é•¿ã€‚

---

## ğŸ¯ å®ç°ç›®æ ‡

1. âœ… å®ç°æ•°å­—æ—¶é—´æ˜¾ç¤ºï¼ˆå°æ—¶:åˆ†é’Ÿï¼‰
2. âœ… å®ç°AM/PMé€‰æ‹©æŒ‰é’®
3. âœ… å®ç°å¯è½¬åŠ¨çš„æ¨¡æ‹Ÿæ—¶é’Ÿç›˜
4. âœ… å®ç°è§¦æ‘¸æ‹–åŠ¨é€‰æ‹©æ—¶é—´
5. âœ… å®ç°æŒ‡é’ˆåŠ¨ç”»
6. âœ… å®ç°OK/CancelæŒ‰é’®
7. âœ… é›†æˆåˆ°ç•ªèŒ„é’Ÿé¡µé¢

---

## ğŸ“¦ ä¾èµ–åŒ…å‡†å¤‡

### éœ€è¦æ·»åŠ çš„ä¾èµ–
```yaml
dependencies:
  flutter:
    sdk: flutter
  provider: ^6.1.1
  # æ—¶é’Ÿé€‰æ‹©å™¨å¯èƒ½éœ€è¦æ•°å­¦è®¡ç®—åº“ï¼ˆFlutterå†…ç½®dart:mathï¼‰
```

---

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

### æ–°å¢æ–‡ä»¶ç»“æ„
```
lib/
â”œâ”€â”€ widgets/
â”‚   â”œâ”€â”€ pomodoro/
â”‚   â”‚   â”œâ”€â”€ time_picker/
â”‚   â”‚   â”‚   â”œâ”€â”€ clock_time_picker.dart      # æ—¶é’Ÿé€‰æ‹©å™¨ä¸»ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ clock_face.dart             # æ—¶é’Ÿç›˜ç»˜åˆ¶
â”‚   â”‚   â”‚   â”œâ”€â”€ clock_hand.dart             # æŒ‡é’ˆç»˜åˆ¶
â”‚   â”‚   â”‚   â””â”€â”€ time_display.dart           # æ•°å­—æ—¶é—´æ˜¾ç¤º
â”‚   â”‚   â””â”€â”€ countdown/
â”‚   â”‚       â”œâ”€â”€ pomodoro_countdown.dart     # å€’è®¡æ—¶æ˜¾ç¤ºç»„ä»¶
â”‚   â”‚       â””â”€â”€ countdown_controls.dart     # æ§åˆ¶æŒ‰é’®ç»„ä»¶
â”œâ”€â”€ views/
â”‚   â””â”€â”€ pomodoro/
â”‚       â””â”€â”€ pomodoro_view.dart              # ç•ªèŒ„é’Ÿä¸»é¡µé¢
â””â”€â”€ view_models/
    â””â”€â”€ pomodoro/
        â””â”€â”€ pomodoro_view_model.dart        # ç•ªèŒ„é’ŸçŠ¶æ€ç®¡ç†
```

---

## ğŸ“ å®ç°æ­¥éª¤

### Step 1: æ—¶é’Ÿé€‰æ‹©å™¨æ•°æ®æ¨¡å‹

**æ–‡ä»¶**: `lib/widgets/pomodoro/time_picker/time_picker_model.dart`

```dart
// æ—¶é—´é€‰æ‹©å™¨æ•°æ®æ¨¡å‹
class TimePickerModel {
  int hour;      // 1-12
  int minute;    // 0-59
  bool isAM;     // true=AM, false=PM
  
  // è½¬æ¢ä¸ºæ€»åˆ†é’Ÿæ•°ï¼ˆç”¨äºç•ªèŒ„é’Ÿï¼‰
  int get totalMinutes => (hour % 12) * 60 + minute + (isAM ? 0 : 12 * 60);
  
  // è½¬æ¢ä¸ºDuration
  Duration get duration => Duration(minutes: totalMinutes);
}
```

**ä»»åŠ¡æ¸…å•:**
- [ ] åˆ›å»ºæ—¶é—´é€‰æ‹©å™¨æ•°æ®æ¨¡å‹
- [ ] å®ç°æ—¶é—´éªŒè¯é€»è¾‘
- [ ] å®ç°æ—¶é—´è½¬æ¢æ–¹æ³•

---

### Step 2: æ•°å­—æ—¶é—´æ˜¾ç¤ºç»„ä»¶

**æ–‡ä»¶**: `lib/widgets/pomodoro/time_picker/time_display.dart`

**åŠŸèƒ½è¦æ±‚:**
- æ˜¾ç¤ºå°æ—¶å’Œåˆ†é’Ÿï¼ˆå¤§å·æ•°å­—ï¼‰
- å°æ—¶èƒŒæ™¯ä¸ºæµ…è‰²ï¼Œåˆ†é’ŸèƒŒæ™¯ä¸ºç™½è‰²
- æ˜¾ç¤ºAM/PMé€‰æ‹©æŒ‰é’®
- å®æ—¶æ›´æ–°æ˜¾ç¤º

**å®ç°è¦ç‚¹:**
```dart
class TimeDisplay extends StatelessWidget {
  final int hour;
  final int minute;
  final bool isAM;
  final Function(bool) onAMPMChanged;
  
  // å®ç°æ•°å­—æ˜¾ç¤ºå’ŒAM/PMæŒ‰é’®
}
```

**ä»»åŠ¡æ¸…å•:**
- [ ] åˆ›å»ºTimeDisplayç»„ä»¶
- [ ] å®ç°å°æ—¶æ˜¾ç¤ºï¼ˆæµ…è‰²èƒŒæ™¯ï¼‰
- [ ] å®ç°åˆ†é’Ÿæ˜¾ç¤ºï¼ˆç™½è‰²èƒŒæ™¯ï¼‰
- [ ] å®ç°AM/PMæŒ‰é’®åˆ‡æ¢
- [ ] æ·»åŠ æ ·å¼å’ŒåŠ¨ç”»

---

### Step 3: æ—¶é’Ÿç›˜ç»˜åˆ¶ç»„ä»¶

**æ–‡ä»¶**: `lib/widgets/pomodoro/time_picker/clock_face.dart`

**åŠŸèƒ½è¦æ±‚:**
- ç»˜åˆ¶åœ†å½¢æ—¶é’Ÿç›˜
- ç»˜åˆ¶1-12æ•°å­—æ ‡è®°
- ç»˜åˆ¶åˆ†é’Ÿåˆ»åº¦ï¼ˆå¯é€‰ï¼‰
- æ”¯æŒè§¦æ‘¸äº¤äº’

**å®ç°è¦ç‚¹:**
```dart
class ClockFace extends StatelessWidget {
  final double size;
  final int selectedHour;
  final int selectedMinute;
  final Function(int, int) onTimeChanged;
  
  // ä½¿ç”¨CustomPaintç»˜åˆ¶æ—¶é’Ÿç›˜
  // ä½¿ç”¨GestureDetectorå¤„ç†è§¦æ‘¸
}
```

**ä»»åŠ¡æ¸…å•:**
- [ ] åˆ›å»ºClockFaceç»„ä»¶
- [ ] ä½¿ç”¨CustomPaintç»˜åˆ¶æ—¶é’Ÿç›˜
- [ ] ç»˜åˆ¶1-12æ•°å­—æ ‡è®°
- [ ] å®ç°è§¦æ‘¸æ£€æµ‹å’Œè§’åº¦è®¡ç®—
- [ ] å°†è§’åº¦è½¬æ¢ä¸ºå°æ—¶/åˆ†é’Ÿ
- [ ] æ·»åŠ é€‰ä¸­æŒ‡ç¤ºå™¨

---

### Step 4: æŒ‡é’ˆç»˜åˆ¶ç»„ä»¶

**æ–‡ä»¶**: `lib/widgets/pomodoro/time_picker/clock_hand.dart`

**åŠŸèƒ½è¦æ±‚:**
- ç»˜åˆ¶å°æ—¶æŒ‡é’ˆï¼ˆæŒ‡å‘é€‰ä¸­çš„å°æ—¶ï¼‰
- ç»˜åˆ¶åˆ†é’ŸæŒ‡ç¤ºå™¨ï¼ˆå¯é€‰ï¼‰
- æŒ‡é’ˆå¹³æ»‘æ—‹è½¬åŠ¨ç”»

**å®ç°è¦ç‚¹:**
```dart
class ClockHand extends StatelessWidget {
  final int hour;
  final int minute;
  final double size;
  
  // è®¡ç®—æŒ‡é’ˆè§’åº¦
  // ä½¿ç”¨Transform.rotateæ—‹è½¬
}
```

**ä»»åŠ¡æ¸…å•:**
- [ ] åˆ›å»ºClockHandç»„ä»¶
- [ ] è®¡ç®—å°æ—¶æŒ‡é’ˆè§’åº¦
- [ ] è®¡ç®—åˆ†é’ŸæŒ‡ç¤ºå™¨ä½ç½®
- [ ] å®ç°æ—‹è½¬åŠ¨ç”»
- [ ] æ·»åŠ æŒ‡é’ˆæ ·å¼

---

### Step 5: æ—¶é’Ÿé€‰æ‹©å™¨ä¸»ç»„ä»¶

**æ–‡ä»¶**: `lib/widgets/pomodoro/time_picker/clock_time_picker.dart`

**åŠŸèƒ½è¦æ±‚:**
- æ•´åˆæ‰€æœ‰å­ç»„ä»¶
- ç®¡ç†é€‰æ‹©å™¨çŠ¶æ€
- å¤„ç†OK/CancelæŒ‰é’®
- æ˜¾ç¤º/éšè—åŠ¨ç”»

**å®ç°è¦ç‚¹:**
```dart
class ClockTimePicker extends StatefulWidget {
  final Function(Duration) onTimeSelected;
  final VoidCallback onCancel;
  
  // æ•´åˆTimeDisplay, ClockFace, ClockHand
  // ç®¡ç†çŠ¶æ€å’Œäº¤äº’
}
```

**ä»»åŠ¡æ¸…å•:**
- [ ] åˆ›å»ºClockTimePickerä¸»ç»„ä»¶
- [ ] æ•´åˆæ‰€æœ‰å­ç»„ä»¶
- [ ] å®ç°çŠ¶æ€ç®¡ç†
- [ ] å®ç°OKæŒ‰é’®ï¼ˆéªŒè¯å¹¶å›è°ƒï¼‰
- [ ] å®ç°CancelæŒ‰é’®
- [ ] æ·»åŠ æ˜¾ç¤º/éšè—åŠ¨ç”»
- [ ] æ·»åŠ æ—¥å†å›¾æ ‡æŒ‰é’®ï¼ˆå¯é€‰ï¼‰

---

### Step 6: ç•ªèŒ„é’Ÿå€’è®¡æ—¶ç»„ä»¶

**æ–‡ä»¶**: `lib/widgets/pomodoro/countdown/pomodoro_countdown.dart`

**åŠŸèƒ½è¦æ±‚:**
- æ˜¾ç¤ºå¤§å·å€’è®¡æ—¶æ•°å­—ï¼ˆMM:SSï¼‰
- æ˜¾ç¤ºå½“å‰æ¨¡å¼ï¼ˆå·¥ä½œ/çŸ­ä¼‘æ¯/é•¿ä¼‘æ¯ï¼‰
- æ ¹æ®æ¨¡å¼æ”¹å˜é¢œè‰²
- å®æ—¶æ›´æ–°æ˜¾ç¤º

**å®ç°è¦ç‚¹:**
```dart
class PomodoroCountdown extends StatelessWidget {
  final Duration remainingTime;
  final PomodoroMode mode; // work, shortBreak, longBreak
  
  // æ˜¾ç¤ºå€’è®¡æ—¶æ•°å­—
  // æ ¹æ®æ¨¡å¼æ”¹å˜é¢œè‰²
}
```

**ä»»åŠ¡æ¸…å•:**
- [ ] åˆ›å»ºPomodoroCountdownç»„ä»¶
- [ ] å®ç°å¤§å·æ•°å­—æ˜¾ç¤º
- [ ] å®ç°æ¨¡å¼æŒ‡ç¤ºå™¨
- [ ] å®ç°é¢œè‰²åˆ‡æ¢ï¼ˆçº¢/ç»¿/è“ï¼‰
- [ ] æ·»åŠ æ ¼å¼åŒ–æ—¶é—´æ˜¾ç¤º
- [ ] æ·»åŠ åŠ¨ç”»æ•ˆæœï¼ˆå¯é€‰ï¼‰

---

### Step 7: æ§åˆ¶æŒ‰é’®ç»„ä»¶

**æ–‡ä»¶**: `lib/widgets/pomodoro/countdown/countdown_controls.dart`

**åŠŸèƒ½è¦æ±‚:**
- æš‚åœ/ç»§ç»­æŒ‰é’®
- è·³è¿‡æŒ‰é’®
- é‡ç½®æŒ‰é’®
- æŒ‰é’®å¸ƒå±€å’Œæ ·å¼

**å®ç°è¦ç‚¹:**
```dart
class CountdownControls extends StatelessWidget {
  final bool isPaused;
  final VoidCallback onPause;
  final VoidCallback onResume;
  final VoidCallback onSkip;
  final VoidCallback onReset;
  
  // å®ç°ä¸‰ä¸ªæ§åˆ¶æŒ‰é’®
}
```

**ä»»åŠ¡æ¸…å•:**
- [ ] åˆ›å»ºCountdownControlsç»„ä»¶
- [ ] å®ç°æš‚åœ/ç»§ç»­æŒ‰é’®ï¼ˆåˆ‡æ¢å›¾æ ‡ï¼‰
- [ ] å®ç°è·³è¿‡æŒ‰é’®
- [ ] å®ç°é‡ç½®æŒ‰é’®
- [ ] æ·»åŠ ç¡®è®¤å¯¹è¯æ¡†ï¼ˆè·³è¿‡å’Œé‡ç½®ï¼‰
- [ ] æ·»åŠ æŒ‰é’®æ ·å¼å’Œå¸ƒå±€

---

### Step 8: ç•ªèŒ„é’ŸViewModel

**æ–‡ä»¶**: `lib/view_models/pomodoro/pomodoro_view_model.dart`

**åŠŸèƒ½è¦æ±‚:**
- ç®¡ç†å€’è®¡æ—¶çŠ¶æ€
- ç®¡ç†å½“å‰æ¨¡å¼ï¼ˆå·¥ä½œ/çŸ­ä¼‘æ¯/é•¿ä¼‘æ¯ï¼‰
- å¤„ç†æš‚åœ/ç»§ç»­/è·³è¿‡/é‡ç½®
- å¤„ç†å€’è®¡æ—¶ç»“æŸé€»è¾‘
- è®°å½•ç•ªèŒ„é’Ÿå†å²

**å®ç°è¦ç‚¹:**
```dart
class PomodoroViewModel extends ChangeNotifier {
  Timer? _timer;
  Duration _remainingTime;
  PomodoroMode _mode;
  bool _isPaused;
  int _completedPomodoros;
  
  // å®ç°å€’è®¡æ—¶é€»è¾‘
  // å®ç°æ¨¡å¼åˆ‡æ¢é€»è¾‘
  // å®ç°æ§åˆ¶æ–¹æ³•
}
```

**ä»»åŠ¡æ¸…å•:**
- [ ] åˆ›å»ºPomodoroViewModel
- [ ] å®ç°å€’è®¡æ—¶Timeré€»è¾‘
- [ ] å®ç°æš‚åœ/ç»§ç»­åŠŸèƒ½
- [ ] å®ç°è·³è¿‡åŠŸèƒ½
- [ ] å®ç°é‡ç½®åŠŸèƒ½
- [ ] å®ç°æ¨¡å¼è‡ªåŠ¨åˆ‡æ¢ï¼ˆå·¥ä½œâ†’ä¼‘æ¯â†’å·¥ä½œï¼‰
- [ ] å®ç°é•¿ä¼‘æ¯è§¦å‘ï¼ˆæ¯4ä¸ªå·¥ä½œåï¼‰
- [ ] å®ç°å€’è®¡æ—¶ç»“æŸé€šçŸ¥
- [ ] é›†æˆæ•°æ®åº“ä¿å­˜å†å²è®°å½•

---

### Step 9: ç•ªèŒ„é’Ÿä¸»é¡µé¢é›†æˆ

**æ–‡ä»¶**: `lib/views/pomodoro/pomodoro_view.dart`

**åŠŸèƒ½è¦æ±‚:**
- æ˜¾ç¤ºæ—¶é’Ÿé€‰æ‹©å™¨ï¼ˆåˆå§‹çŠ¶æ€ï¼‰
- æ˜¾ç¤ºå€’è®¡æ—¶é¡µé¢ï¼ˆè¿è¡ŒçŠ¶æ€ï¼‰
- é›†æˆViewModel
- å¤„ç†é¡µé¢åˆ‡æ¢

**å®ç°è¦ç‚¹:**
```dart
class PomodoroView extends StatelessWidget {
  // ä½¿ç”¨Providerè·å–ViewModel
  // æ ¹æ®çŠ¶æ€æ˜¾ç¤ºé€‰æ‹©å™¨æˆ–å€’è®¡æ—¶
  // å¤„ç†ç”¨æˆ·äº¤äº’
}
```

**ä»»åŠ¡æ¸…å•:**
- [ ] åˆ›å»ºPomodoroViewé¡µé¢
- [ ] é›†æˆPomodoroViewModel
- [ ] å®ç°çŠ¶æ€åˆ¤æ–­ï¼ˆæ˜¾ç¤ºé€‰æ‹©å™¨æˆ–å€’è®¡æ—¶ï¼‰
- [ ] é›†æˆClockTimePicker
- [ ] é›†æˆPomodoroCountdown
- [ ] é›†æˆCountdownControls
- [ ] å®ç°é¡µé¢åˆ‡æ¢åŠ¨ç”»
- [ ] å¤„ç†é€šçŸ¥æƒé™

---

### Step 10: é€šçŸ¥åŠŸèƒ½å®ç°

**æ–‡ä»¶**: `lib/services/notification_service.dart`

**åŠŸèƒ½è¦æ±‚:**
- å€’è®¡æ—¶ç»“æŸé€šçŸ¥
- ä¼‘æ¯ç»“æŸé€šçŸ¥
- é€šçŸ¥æƒé™è¯·æ±‚

**ä¾èµ–åŒ…:**
```yaml
dependencies:
  flutter_local_notifications: ^16.0.0
```

**ä»»åŠ¡æ¸…å•:**
- [ ] æ·»åŠ flutter_local_notificationsä¾èµ–
- [ ] åˆ›å»ºNotificationService
- [ ] å®ç°é€šçŸ¥åˆå§‹åŒ–
- [ ] å®ç°æƒé™è¯·æ±‚
- [ ] å®ç°å€’è®¡æ—¶ç»“æŸé€šçŸ¥
- [ ] å®ç°ä¼‘æ¯ç»“æŸé€šçŸ¥
- [ ] é›†æˆåˆ°PomodoroViewModel

---

## ğŸ§ª æµ‹è¯•è®¡åˆ’

### åŠŸèƒ½æµ‹è¯•
- [ ] æ—¶é’Ÿé€‰æ‹©å™¨è½¬åŠ¨åŠŸèƒ½æ­£å¸¸
- [ ] æ—¶é—´é€‰æ‹©å‡†ç¡®
- [ ] AM/PMåˆ‡æ¢æ­£å¸¸
- [ ] OKæŒ‰é’®æ­£ç¡®å¯åŠ¨å€’è®¡æ—¶
- [ ] CancelæŒ‰é’®æ­£ç¡®å–æ¶ˆ
- [ ] å€’è®¡æ—¶æ­£å¸¸è¿è¡Œ
- [ ] æš‚åœ/ç»§ç»­åŠŸèƒ½æ­£å¸¸
- [ ] è·³è¿‡åŠŸèƒ½æ­£å¸¸
- [ ] é‡ç½®åŠŸèƒ½æ­£å¸¸
- [ ] æ¨¡å¼è‡ªåŠ¨åˆ‡æ¢æ­£å¸¸
- [ ] é•¿ä¼‘æ¯è§¦å‘æ­£å¸¸

### UIæµ‹è¯•
- [ ] æ—¶é’Ÿç›˜æ˜¾ç¤ºæ­£ç¡®
- [ ] æŒ‡é’ˆåŠ¨ç”»æµç•…
- [ ] æ•°å­—æ˜¾ç¤ºæ¸…æ™°
- [ ] é¢œè‰²åˆ‡æ¢æ­£ç¡®
- [ ] æŒ‰é’®å“åº”æ­£å¸¸
- [ ] åŠ¨ç”»æ•ˆæœæµç•…

### å…¼å®¹æ€§æµ‹è¯•
- [ ] iOSè®¾å¤‡æµ‹è¯•
- [ ] Androidè®¾å¤‡æµ‹è¯•
- [ ] ä¸åŒå±å¹•å°ºå¯¸æµ‹è¯•
- [ ] æ¨ªå±æ¨¡å¼æµ‹è¯•ï¼ˆå¯é€‰ï¼‰

---

## ğŸ“Š å¼€å‘æ—¶é—´ä¼°ç®—

| ä»»åŠ¡ | é¢„è®¡æ—¶é—´ | ä¼˜å…ˆçº§ |
|------|---------|--------|
| Step 1: æ•°æ®æ¨¡å‹ | 0.5å°æ—¶ | é«˜ |
| Step 2: æ•°å­—æ—¶é—´æ˜¾ç¤º | 1å°æ—¶ | é«˜ |
| Step 3: æ—¶é’Ÿç›˜ç»˜åˆ¶ | 3-4å°æ—¶ | é«˜ |
| Step 4: æŒ‡é’ˆç»˜åˆ¶ | 1-2å°æ—¶ | é«˜ |
| Step 5: é€‰æ‹©å™¨ä¸»ç»„ä»¶ | 2å°æ—¶ | é«˜ |
| Step 6: å€’è®¡æ—¶ç»„ä»¶ | 1-2å°æ—¶ | é«˜ |
| Step 7: æ§åˆ¶æŒ‰é’® | 1å°æ—¶ | é«˜ |
| Step 8: ViewModel | 3-4å°æ—¶ | é«˜ |
| Step 9: ä¸»é¡µé¢é›†æˆ | 2å°æ—¶ | é«˜ |
| Step 10: é€šçŸ¥åŠŸèƒ½ | 2-3å°æ—¶ | ä¸­ |
| æµ‹è¯•å’Œä¼˜åŒ– | 3-4å°æ—¶ | é«˜ |
| **æ€»è®¡** | **20-26å°æ—¶** | |

---

## âœ… å®Œæˆæ ‡å‡†

### å¿…é¡»å®Œæˆï¼ˆMVPï¼‰
- âœ… æ—¶é’Ÿé€‰æ‹©å™¨å¯ä»¥è½¬åŠ¨é€‰æ‹©æ—¶é—´
- âœ… æ•°å­—æ—¶é—´æ˜¾ç¤ºæ­£ç¡®
- âœ… AM/PMåˆ‡æ¢æ­£å¸¸
- âœ… OKæŒ‰é’®å¯åŠ¨å€’è®¡æ—¶
- âœ… å€’è®¡æ—¶æ­£å¸¸è¿è¡Œ
- âœ… æš‚åœ/ç»§ç»­åŠŸèƒ½
- âœ… æ¨¡å¼åˆ‡æ¢åŠŸèƒ½
- âœ… åŸºç¡€UIå®Œæˆ

### å¯é€‰å®Œæˆï¼ˆå¢å¼ºï¼‰
- â­ æŒ‡é’ˆå¹³æ»‘åŠ¨ç”»
- â­ å€’è®¡æ—¶æ•°å­—åŠ¨ç”»
- â­ åœ†å½¢è¿›åº¦æ¡
- â­ é€šçŸ¥æé†’
- â­ éœ‡åŠ¨åé¦ˆ
- â­ éŸ³æ•ˆæç¤º

---

## ğŸš€ å¼€å§‹å¼€å‘

å½“å‡†å¤‡å¥½å¼€å§‹å¼€å‘æ—¶ï¼ŒæŒ‰ç…§ä»¥ä¸‹é¡ºåºæ‰§è¡Œï¼š

1. **ç¬¬ä¸€æ­¥**: åˆ›å»ºæ•°æ®æ¨¡å‹ï¼ˆStep 1ï¼‰
2. **ç¬¬äºŒæ­¥**: å®ç°æ•°å­—æ—¶é—´æ˜¾ç¤ºï¼ˆStep 2ï¼‰
3. **ç¬¬ä¸‰æ­¥**: å®ç°æ—¶é’Ÿç›˜ç»˜åˆ¶ï¼ˆStep 3ï¼‰
4. **ç¬¬å››æ­¥**: å®ç°æŒ‡é’ˆç»˜åˆ¶ï¼ˆStep 4ï¼‰
5. **ç¬¬äº”æ­¥**: æ•´åˆæ—¶é’Ÿé€‰æ‹©å™¨ï¼ˆStep 5ï¼‰
6. **ç¬¬å…­æ­¥**: å®ç°å€’è®¡æ—¶ç»„ä»¶ï¼ˆStep 6ï¼‰
7. **ç¬¬ä¸ƒæ­¥**: å®ç°æ§åˆ¶æŒ‰é’®ï¼ˆStep 7ï¼‰
8. **ç¬¬å…«æ­¥**: å®ç°ViewModelï¼ˆStep 8ï¼‰
9. **ç¬¬ä¹æ­¥**: é›†æˆä¸»é¡µé¢ï¼ˆStep 9ï¼‰
10. **ç¬¬åæ­¥**: æ·»åŠ é€šçŸ¥åŠŸèƒ½ï¼ˆStep 10ï¼‰

å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼Œç•ªèŒ„é’ŸåŠŸèƒ½å°±åŸºæœ¬å®Œæˆäº†ï¼

---

**æœ€åæ›´æ–°**: 2024-XX-XX  
**é¢„è®¡å¼€å§‹æ—¶é—´**: TBD  
**é¢„è®¡å®Œæˆæ—¶é—´**: TBD

